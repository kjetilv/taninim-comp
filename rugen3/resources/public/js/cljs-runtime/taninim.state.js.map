{"version":3,"sources":["taninim/state.cljs"],"mappings":";AAGA,2BAAA,2CAAA,qDAAA,2CAAA,2DAAA,KAAA,kEAAA,KAAA,wDAAA,KAAA,0DAAA,oFAAA,0DAAA,2CAAA,0DAAA,iCAAA,6DAAA,cAAA,yDAAA,2CAAA,yDAAA,kCAAA,2DAAA,0CAAA,wDAAA,2CAAA,sEAAA,KAAA,6DAAA,iCAAA,8DAAA,IAAA,wDAAA,76CAAKA;AAML,yDAAA,zDAACC,+HAEC,WAAKC,EAAEA;AAAP,AACEF;;AAEJ,2DAAA,3DAACG,kKAAiB,WAAKC,GAAGF;AAAR,AAAW,OAAA,mFAAOE;;AACpC,2DAAA,3DAACD,gLAAwB,WAAKC,GAAGF;AAAR,AAAW,yDAAA,mFAAA,qDAAA,1LAACG,+CAAOD;;AAC5C,2DAAA,3DAACD,4KAAuB,WAAKC,GAAGF;AAAR,AAAW,yDAAA,mFAAA,qDAAA,1LAACG,+CAAOD;;AAE3C,2DAAA,3DAACD,uKAAoB,WAAKC,GAAGF;AAAR,AAAW,OAAA,wFAAUE;;AAC1C,2DAAA,3DAACD,uKAAmB,WAAKC,GAAGF;AAAR,AAAW,yDAAA,mFAAA,0DAAA,/LAACG,+CAAOD;;AACvC,2DAAA,3DAACD,yLAA6B,WAAKC,GAAGF;AAAR,AAAW,yDAAA,mFAAA,0DAAA,/LAACG,+CAAOD;;AAEjD,2DAAA,3DAACD,sKAAmB,WAAKC,GAAGF;AAAR,AAAW,OAAA,uFAASE;;AACxC,2DAAA,3DAACD,oLAA0B,WAAKC,GAAGF;AAAR,AAAW,yDAAA,mFAAA,yDAAA,9LAACG,+CAAOD;;AAE9C,2DAAA,3DAACD,qKAAmB,WAAKC,GAAGF;AAAR,AAAW,OAAA,sFAASE;;AACxC,2DAAA,3DAACD,kLAAyB,WAAKC,GAAGF;AAAR,AAAW,yDAAA,mFAAA,wDAAA,7LAACG,+CAAOD;;AAC7C,2DAAA,3DAACD,mLAA0B,WAAKC,GAAGF;AAAR,AAAW,yDAAA,mFAAA,wDAAA,7LAACG,+CAAOD","names":["taninim.state/default-db","re_frame.core.reg_event_db","_","re_frame.core.reg_sub","db","cljs.core.get_in"],"sourcesContent":["(ns taninim.state\n  (:require [re-frame.core :as rf]))\n\n(def default-db\n  {:auth    {:user-id nil :fb-user-id nil :token nil :status :unauthenticated}\n   :library {:albums [] :loading? false}\n   :leases  {:active #{} :pending #{}}\n   :player  {:current-track nil :playlist [] :position 0 :state :stopped}})\n\n(rf/reg-event-db\n  :initialize-db\n  (fn [_ _]\n    default-db))\n\n(rf/reg-sub :auth (fn [db _] (:auth db)))\n(rf/reg-sub :auth-status (fn [db _] (get-in db [:auth :status])))\n(rf/reg-sub :auth-token (fn [db _] (get-in db [:auth :token])))\n\n(rf/reg-sub :library (fn [db _] (:library db)))\n(rf/reg-sub :albums (fn [db _] (get-in db [:library :albums])))\n(rf/reg-sub :library-loading? (fn [db _] (get-in db [:library :loading?])))\n\n(rf/reg-sub :leases (fn [db _] (:leases db)))\n(rf/reg-sub :active-leases (fn [db _] (get-in db [:leases :active])))\n\n(rf/reg-sub :player (fn [db _] (:player db)))\n(rf/reg-sub :player-state (fn [db _] (get-in db [:player :state])))\n(rf/reg-sub :current-track (fn [db _] (get-in db [:player :current-track])))\n"]}