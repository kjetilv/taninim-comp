{"version":3,"sources":["taninim/views/player.cljs"],"mappings":";AAIA,kCAAA,lCAAMA;AAAN,AACE,aAAA,AAAAC,TAAMC,yBAAQ,sDAAA,mFAAA,zIAACC;YAAf,AAAAF,RACMG,wBAAO,sDAAA,mFAAA,zIAACD;IACRE,QAAM,AAAA,oGAAgBH;IACtBI,QAAM,AAAA,sFAAQJ;AAHpB,AAIE,oBAAMG;AAAN,AAAA,0FAAA,yEAAA,mFAAA,0EAAA,mFAAA,8KAAA,mFAAA,6LAAA,mFAAA,qEAAA,mFAAA,yDAAA,2CAAA,6DAAA,9vBAGuB,AAAA,mFAAOA,kLACN,AAAA,sFAASA;AAJjC,AAMyB,8BAAA,mFAAA,1GAACE;WAN1B,eAOI,iBAAAC,WAAMF;IAANE,eAAA,EAAA,CAAAA,oBAAAC,oBAAA,AAAAD,aAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,0FAAA,yDAAA,2CAAA,6DAAA;AAAA,AACgC,8BAAA,mFAAA,1GAACD;WADjC;;;KAAA;AAAA,0FAAA,yDAAA,2CAAA,6DAAA;AAAA,AAEgC,8BAAA,mFAAA,1GAACA,2KAA0BF;WAF3D;;;;AAAA;;;;;AAPJ","names":["taninim.views.player/player-bar","cljs.core/deref","player","re_frame.core.subscribe","token","track","state","re-frame.core/dispatch","G__12455","cljs.core/Keyword"],"sourcesContent":["(ns taninim.views.player\n  (:require [re-frame.core :as rf]\n            [taninim.api :as api]))\n\n(defn player-bar []\n  (let [player @(rf/subscribe [:player])\n        token @(rf/subscribe [:auth-token])\n        track (:current-track player)\n        state (:state player)]\n    (when track\n      [:div.player-bar\n       [:div.track-info\n        [:span.track-title (:name track)]\n        [:span.track-artist (:artist track)]]\n       [:div.controls\n        [:button {:on-click #(rf/dispatch [:player/stop])} \"Stop\"]\n        (case state\n          :playing [:button {:on-click #(rf/dispatch [:player/pause])} \"Pause\"]\n          :paused  [:button {:on-click #(rf/dispatch [:player/play track])} \"Play\"]\n          nil)]])))\n"]}